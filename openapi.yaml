openapi: 3.1.0
info:
  title: Restaurant Menu API
  description: |
    A comprehensive API for managing restaurant menus, categories, menu items, and options.
    This API allows restaurant owners to manage their menu structure, including categories,
    menu items, and customization options.
  version: 1.0.0
  contact:
    name: API Support
    email: support@example.com

servers:
  - url: http://localhost:3000/api
    description: Local development server
  - url: https://api.example.com/api
    description: Production server

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  responses:
    BadRequest:
      description: Bad request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

  schemas:
    Error:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          example: "Resource not found"

    Pagination:
      type: object
      properties:
        total:
          type: integer
          example: 100
        page:
          type: integer
          example: 1
        limit:
          type: integer
          example: 10
        totalPages:
          type: integer
          example: 10

    Restaurant:
      type: object
      properties:
        id:
          type: string
          format: cuid
        name:
          type: string
        address:
          type: string
        phone:
          type: string
        email:
          type: string
          format: email
        logoUrl:
          type: string
        qrCodeUrl:
          type: string
        subscriptionStatus:
          type: string
          enum: [free, basic, premium]
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    Menu:
      type: object
      properties:
        id:
          type: string
          format: cuid
        name:
          type: string
        description:
          type: string
        isActive:
          type: boolean
        lastUpdated:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        restaurantId:
          type: string
          format: cuid

    Category:
      type: object
      properties:
        id:
          type: string
          format: cuid
        name:
          type: string
        description:
          type: string
        order:
          type: integer
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        menuId:
          type: string
          format: cuid
        menuItems:
          type: array
          items:
            $ref: '#/components/schemas/MenuItem'

    MenuItem:
      type: object
      properties:
        id:
          type: string
          format: cuid
        name:
          type: string
        description:
          type: string
        price:
          type: number
          format: float
        isAvailable:
          type: boolean
        imageUrl:
          type: string
        order:
          type: integer
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        categoryId:
          type: string
        optionGroups:
          type: array
          items:
            $ref: '#/components/schemas/OptionGroup'
        specialOffers:
          type: array
          items:
            $ref: '#/components/schemas/SpecialOffer'

    OptionGroup:
      type: object
      properties:
        id:
          type: string
          format: cuid
        name:
          type: string
        isMultiSelect:
          type: boolean
        minSelections:
          type: integer
        maxSelections:
          type: integer
        order:
          type: integer
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        menuItemId:
          type: string
          format: cuid
        options:
          type: array
          items:
            $ref: '#/components/schemas/Option'

    Option:
      type: object
      properties:
        id:
          type: string
          format: cuid
        name:
          type: string
        priceAdjustment:
          type: number
          format: float
        isAvailable:
          type: boolean
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        optionGroupId:
          type: string
          format: cuid

    SpecialOffer:
      type: object
      properties:
        id:
          type: string
          format: cuid
        name:
          type: string
        description:
          type: string
        offerType:
          type: string
        priceAdjustment:
          type: number
          format: float
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        isActive:
          type: boolean
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        menuItemId:
          type: string
          format: cuid

paths:
  /restaurants:
    get:
      summary: List all restaurants
      description: Retrieve a paginated list of restaurants
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [name, createdAt, updatedAt]
        - name: sortOrder
          in: query
          schema:
            type: string
            enum: [asc, desc]
      responses:
        '200':
          description: List of restaurants
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Restaurant'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

    post:
      summary: Create a new restaurant
      description: Create a new restaurant with the provided details
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                address:
                  type: string
                phone:
                  type: string
                email:
                  type: string
                  format: email
                logoUrl:
                  type: string
                subscriptionStatus:
                  type: string
                  enum: [free, basic, premium]
      responses:
        '201':
          description: Restaurant created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Restaurant'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

  /restaurants/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    get:
      summary: Get a restaurant by ID
      description: Retrieve detailed information about a specific restaurant
      responses:
        '200':
          description: Restaurant details
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Restaurant'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

    patch:
      summary: Update a restaurant
      description: Update an existing restaurant's information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                address:
                  type: string
                phone:
                  type: string
                email:
                  type: string
                  format: email
                logoUrl:
                  type: string
                subscriptionStatus:
                  type: string
                  enum: [free, basic, premium]
      responses:
        '200':
          description: Restaurant updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Restaurant'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

    delete:
      summary: Delete a restaurant
      description: Delete a restaurant and all its associated data
      responses:
        '204':
          description: Restaurant deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /menus:
    get:
      summary: List all menus
      description: Retrieve a paginated list of menus
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: restaurantId
          in: query
          schema:
            type: string
            format: cuid
        - name: includeCategories
          in: query
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: List of menus
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Menu'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

    post:
      summary: Create a new menu
      description: Create a new menu for a restaurant
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - restaurantId
              properties:
                name:
                  type: string
                description:
                  type: string
                isActive:
                  type: boolean
                restaurantId:
                  type: string
                  format: cuid
      responses:
        '201':
          description: Menu created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Menu'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

  /categories:
    get:
      summary: List all categories
      description: Retrieve a paginated list of categories
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: menuId
          in: query
          schema:
            type: string
            format: cuid
        - name: includeItems
          in: query
          schema:
            type: boolean
            default: false
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [name, order, createdAt]
        - name: sortOrder
          in: query
          schema:
            type: string
            enum: [asc, desc]
      responses:
        '200':
          description: List of categories
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Category'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

    post:
      summary: Create a new category
      description: Create a new category in a menu
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - menuId
              properties:
                name:
                  type: string
                description:
                  type: string
                order:
                  type: integer
                  minimum: 0
                menuId:
                  type: string
                  format: cuid
      responses:
        '201':
          description: Category created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Category'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

  /categories/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    get:
      summary: Get a category by ID
      description: Retrieve detailed information about a specific category
      parameters:
        - name: includeItems
          in: query
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: Category details
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Category'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

    patch:
      summary: Update a category
      description: Update an existing category's information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                order:
                  type: integer
                  minimum: 0
      responses:
        '200':
          description: Category updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Category'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

    delete:
      summary: Delete a category
      description: Delete a category and all its associated menu items
      responses:
        '204':
          description: Category deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /categories/{id}/reorder:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    patch:
      summary: Reorder a category
      description: Update the display order of a category within its menu
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - order
              properties:
                order:
                  type: integer
                  minimum: 0
      responses:
        '200':
          description: Category reordered successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Category'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /categories/menu/{menuId}:
    parameters:
      - name: menuId
        in: path
        required: true
        schema:
          type: string
          format: cuid
    get:
      summary: Get categories by menu ID
      description: Retrieve all categories for a specific menu
      parameters:
        - name: includeItems
          in: query
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: List of categories for the menu
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Category'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /menu-items:
    get:
      summary: List all menu items
      description: Retrieve a paginated list of menu items, optionally filtered by category
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: categoryId
          in: query
          schema:
            type: string
            format: cuid
        - name: includeOptionGroups
          in: query
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: List of menu items
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/MenuItem'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'
    post:
      summary: Create a new menu item
      description: Create a new menu item in a category
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - price
                - categoryId
              properties:
                name:
                  type: string
                description:
                  type: string
                price:
                  type: number
                  format: float
                isAvailable:
                  type: boolean
                  default: true
                imageUrl:
                  type: string
                order:
                  type: integer
                  minimum: 0
                categoryId:
                  type: string
                  format: cuid
      responses:
        '201':
          description: Menu item created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/MenuItem'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

  /menu-items/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    get:
      summary: Get a menu item by ID
      description: Retrieve detailed information about a specific menu item
      responses:
        '200':
          description: Menu item details
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/MenuItem'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    patch:
      summary: Update a menu item
      description: Update an existing menu item's information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                price:
                  type: number
                  format: float
                isAvailable:
                  type: boolean
                imageUrl:
                  type: string
                order:
                  type: integer
                  minimum: 0
                categoryId:
                  type: string
                  format: cuid
      responses:
        '200':
          description: Menu item updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/MenuItem'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      summary: Delete a menu item
      description: Delete a menu item and all its associated data
      responses:
        '204':
          description: Menu item deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /menu-items/{id}/reorder:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    patch:
      summary: Reorder a menu item
      description: Update the display order of a menu item within its category
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - order
              properties:
                order:
                  type: integer
                  minimum: 0
      responses:
        '200':
          description: Menu item reordered successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/MenuItem'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /option-groups:
    get:
      summary: List all option groups
      description: Retrieve a paginated list of option groups, optionally filtered by menu item
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: menuItemId
          in: query
          schema:
            type: string
            format: cuid
        - name: includeOptions
          in: query
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: List of option groups
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/OptionGroup'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'
    post:
      summary: Create a new option group
      description: Create a new option group for a menu item
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - menuItemId
              properties:
                name:
                  type: string
                isMultiSelect:
                  type: boolean
                  default: false
                minSelections:
                  type: integer
                  minimum: 0
                maxSelections:
                  type: integer
                  minimum: 0
                order:
                  type: integer
                  minimum: 0
                menuItemId:
                  type: string
                  format: cuid
      responses:
        '201':
          description: Option group created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/OptionGroup'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

  /option-groups/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    get:
      summary: Get an option group by ID
      description: Retrieve detailed information about a specific option group
      responses:
        '200':
          description: Option group details
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/OptionGroup'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    patch:
      summary: Update an option group
      description: Update an existing option group's information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                isMultiSelect:
                  type: boolean
                minSelections:
                  type: integer
                  minimum: 0
                maxSelections:
                  type: integer
                  minimum: 0
                order:
                  type: integer
                  minimum: 0
                menuItemId:
                  type: string
                  format: cuid
      responses:
        '200':
          description: Option group updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/OptionGroup'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      summary: Delete an option group
      description: Delete an option group and all its associated options
      responses:
        '204':
          description: Option group deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /option-groups/{id}/reorder:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    patch:
      summary: Reorder an option group
      description: Update the display order of an option group within its menu item
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - order
              properties:
                order:
                  type: integer
                  minimum: 0
      responses:
        '200':
          description: Option group reordered successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/OptionGroup'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /options:
    get:
      summary: List all options
      description: Retrieve a paginated list of options, optionally filtered by option group
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: optionGroupId
          in: query
          schema:
            type: string
            format: cuid
      responses:
        '200':
          description: List of options
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Option'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'
    post:
      summary: Create a new option
      description: Create a new option for an option group
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - optionGroupId
              properties:
                name:
                  type: string
                priceAdjustment:
                  type: number
                  format: float
                  default: 0.00
                isAvailable:
                  type: boolean
                  default: true
                optionGroupId:
                  type: string
                  format: cuid
      responses:
        '201':
          description: Option created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Option'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

  /options/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    get:
      summary: Get an option by ID
      description: Retrieve detailed information about a specific option
      responses:
        '200':
          description: Option details
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Option'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    patch:
      summary: Update an option
      description: Update an existing option's information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                priceAdjustment:
                  type: number
                  format: float
                isAvailable:
                  type: boolean
                optionGroupId:
                  type: string
                  format: cuid
      responses:
        '200':
          description: Option updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Option'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      summary: Delete an option
      description: Delete an option
      responses:
        '204':
          description: Option deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'

  /special-offers:
    get:
      summary: List all special offers
      description: Retrieve a paginated list of special offers, optionally filtered by menu item
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
        - name: menuItemId
          in: query
          schema:
            type: string
            format: cuid
      responses:
        '200':
          description: List of special offers
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/SpecialOffer'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'
    post:
      summary: Create a new special offer
      description: Create a new special offer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - offerType
                - priceAdjustment
                - startTime
                - endTime
              properties:
                name:
                  type: string
                description:
                  type: string
                offerType:
                  type: string
                priceAdjustment:
                  type: number
                  format: float
                startTime:
                  type: string
                  format: date-time
                endTime:
                  type: string
                  format: date-time
                isActive:
                  type: boolean
                  default: true
                menuItemId:
                  type: string
                  format: cuid
      responses:
        '201':
          description: Special offer created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/SpecialOffer'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'

  /special-offers/{id}:
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: cuid
    get:
      summary: Get a special offer by ID
      description: Retrieve detailed information about a specific special offer
      responses:
        '200':
          description: Special offer details
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/SpecialOffer'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    patch:
      summary: Update a special offer
      description: Update an existing special offer's information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                offerType:
                  type: string
                priceAdjustment:
                  type: number
                  format: float
                startTime:
                  type: string
                  format: date-time
                endTime:
                  type: string
                  format: date-time
                isActive:
                  type: boolean
                menuItemId:
                  type: string
                  format: cuid
      responses:
        '200':
          description: Special offer updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/SpecialOffer'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      summary: Delete a special offer
      description: Delete a special offer
      responses:
        '204':
          description: Special offer deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError' 